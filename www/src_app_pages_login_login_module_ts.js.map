{"version":3,"file":"src_app_pages_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PasswordChangePage } from '../password-change/password-change.page';\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  },\n  {\n    path: 'password-change',\n    loadChildren: () => import('../../pages/password-change/password-change.module').then( m => m.PasswordChangePageModule)\n  },\n\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\nimport { PasswordChangePage } from '../password-change/password-change.page';\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiService } from 'src/app/service/api.service';\nimport { FirebaseAuthenticationService } from 'src/app/service/firebase-authentication.service';\nimport { FirestoreService } from 'src/app/service/firestore.service';\nimport { InituserService } from 'src/app/service/inituser.service';\nimport { UtilService } from 'src/app/service/util.service';\nimport { Vendor } from '../models/vendor';\nimport { PasswordChangePage } from '../password-change/password-change.page';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n private loggedinVendor: any;\n TodayDate:string;\n  vendorUser={\n    email:'',\n    password:''\n  }\n  constructor(private router: Router,\n              private authent: FirebaseAuthenticationService,\n              private firestore: FirestoreService,\n              private initUser: InituserService,\n              private util: UtilService,\n              private api: ApiService) { \n                // this.api.getoneVendoruser().subscribe(user=>{\n                //   console.log(user)\n                // })\n                const currentDate = new Date();\n                this.TodayDate = moment(currentDate).format('YYYY-MM-DD')\n           this.loggedinVendor = this.initUser.getVendorData()\n           console.log(this.loggedinVendor)\n\n              }\n\n  ngOnInit() {\n  }\n  \n  moveTo(){\n    this.api.logIn(this.vendorUser.email+'@gmail.com', this.vendorUser.password).subscribe(res=>{\n      console.log(res)\n      console.log(res.id)\n     this.initUser.setToken(res.id)\n     const pass:any={\n       temprory_password: this.vendorUser.password,\n       login_date: this.TodayDate\n     }\n      this.firestore.update('vendorAdd',res.id, pass).then(res=>{\n        console.log(res)\n     })\n     this.api.getVendorUser().subscribe(user=>{\n      console.log('user name', user)\n      console.log('res',user.id)\n      // if(user.id === res.uid){\n        this.initUser.setLoggedInVendor(user)\n        this.loggedinVendor = this.initUser.getVendorData()\n        console.log(this.loggedinVendor)\n        // this.authent.forgotPassoword(this.vendorUser.email)\n        // this.router.navigate(['pages/password-change']);\n\n          // if (this.loggedinVendor.id !==null){\n          // if(this.loggedinVendor.Confirm_new_password === null){\n          //   this.util.goToNew('pages/password-change')\n          // }\n\n      if (this.loggedinVendor.approved === false){\n\n    \n          if(this.loggedinVendor.Confirm_new_password === null){\n            this.util.goToNew('pages/password-change')\n          }else{\n            this.util.goToNew('pages/vendor-profile')\n          }\n    \n          if(this.loggedinVendor.country !==null && this.loggedinVendor.email !==null && this.loggedinVendor.street !==null &&\n            this.loggedinVendor.house !==null && this.loggedinVendor.city !==null && this.loggedinVendor.postal_code !==null &&\n            this.loggedinVendor.ph_no !==null ){\n            this.util.goToNew('pages/vendor-contact-profile')\n          }\n    \n          if(this.loggedinVendor.first_name !==null && this.loggedinVendor.relationship_type !==null\n            && this.loggedinVendor.contact_email !==null \n            && this.loggedinVendor.ph_no !==null){\n            this.util.goToNew('pages/bank-details')\n            // this.util.goToNew('pages/vendor-contact-profile')\n          }\n    \n          if(this.loggedinVendor.country !==null && this.loggedinVendor.Account_no !==null\n              && this.loggedinVendor.bank_code !==null && this.loggedinVendor.currency !==null\n              && this.loggedinVendor.street !==null && this.loggedinVendor.document !==null\n              && this.loggedinVendor.city !==null \n              && this.loggedinVendor.swift_bic !==null \n              && this.loggedinVendor.bank_name !==null){\n            // this.util.goToNew('pages/bank-details')\n                this.util.goToNew(['pages/business-category'])\n          }    \n    \n          if(this.loggedinVendor.Category !==null && this.loggedinVendor.Subcategory !==null)\n          {\n            this.util.goToNew(['pages/tax-details'])\n          }\n          \n          if((this.loggedinVendor.Tax_number !==null && this.loggedinVendor.Tax_number_type !==null) || (this.loggedinVendor.reason !==null))\n           { \n            this.util.goToNew(['pages/tax-record']);\n           }\n    \n          if(this.loggedinVendor.Category !==null && this.loggedinVendor.Subcategory !==null)\n          {\n            this.util.goToNew(['pages/tax-details'])\n          }\n        \n          if(this.loggedinVendor.tax_Details.length !==0){\n            this.util.goToNew(['pages/tax-form']);\n           }\n           \n    \n        if(this.loggedinVendor.Taxform_upload !==null && this.loggedinVendor.SES_VSCform_upload !==null){\n          this.util.goToNew(['pages/terms-conditions'])\n        }\n    \n        if(this.loggedinVendor.completed ===true )\n        { \n          this.util.goToNew(['pages/final-submission']);\n        }\n      }else{\n        this.util.goToNew(['pages/login-information']);\n    \n      }\n        //   // if((this.loggedinVendor.taxnum !==null && this.loggedinVendor.taxnumtype !==null) || (this.loggedinVendor.reason !==null))\n        //   //  { \n        //   //   this.util.goToNew(['pages/tax-record']);\n        //   //   // console.log(this.loggedinVendor.tax_Details.length)\n        //   //  }else{\n        //   //   this.util.goToNew(['pages/tax-details'])\n        //   //  }\n    \n        //   //  if(this.loggedinVendor.tax_Details.length !==0){\n        //   //   this.util.goToNew(['pages/tax-form']);\n        //   //  }else{\n        //   //   this.util.goToNew(['pages/tax-record']);\n        //   //  }\n    \n        // if(this.loggedinVendor.taxformupload !==null && this.loggedinVendor.sesvscformupload !==null){\n        //   this.util.goToNew(['pages/terms-conditions'])\n        // }else{\n        //   this.util.goToNew(['pages/tax-form']);\n        // }\n\n        // }else{\n        //   this.util.goToNew('pages/login')\n        // }\n    \n      },async error => {\n      //await laoder.dismiss();\n      const toast = await this.api.createToast('Invalid VendorID or Password', false, 'top');\n      await toast.present();\n    })\n   }, async error =>{\n      const toast = await this.api.createToast('please use your permenant id', false, 'middle');\n      await toast.present();\n   })\n    // this.router.navigate(['/password-change']);\n }\n\n  moveToPsw(){\n    this.router.navigate(['pages/forget-psw'])\n  }\n  moveToId(){\n    this.router.navigate(['pages/forget-vendor-id'])\n  }\n  login(){\n    this.router.navigate(['pages/login'])\n  }\n\n  \n}\n"],"names":["Component","Router","ApiService","FirebaseAuthenticationService","FirestoreService","InituserService","UtilService","moment","LoginPage","constructor","router","authent","firestore","initUser","util","api","email","password","currentDate","Date","TodayDate","format","loggedinVendor","getVendorData","console","log","ngOnInit","moveTo","logIn","vendorUser","subscribe","res","id","setToken","pass","temprory_password","login_date","update","then","getVendorUser","user","setLoggedInVendor","approved","Confirm_new_password","goToNew","country","street","house","city","postal_code","ph_no","first_name","relationship_type","contact_email","Account_no","bank_code","currency","document","swift_bic","bank_name","Category","Subcategory","Tax_number","Tax_number_type","reason","tax_Details","length","Taxform_upload","SES_VSCform_upload","completed","error","toast","createToast","present","moveToPsw","navigate","moveToId","login","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}