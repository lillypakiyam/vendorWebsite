{"version":3,"file":"src_app_admin_deletedvendor_deletedvendor_module_ts.js","mappings":"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","sources":["./src/app/admin/deletedvendor/deletedvendor-routing.module.ts","./src/app/admin/deletedvendor/deletedvendor.module.ts","./src/app/admin/deletedvendor/deletedvendor.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DeletedvendorPage } from './deletedvendor.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DeletedvendorPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DeletedvendorPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DeletedvendorPageRoutingModule } from './deletedvendor-routing.module';\n\nimport { DeletedvendorPage } from './deletedvendor.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DeletedvendorPageRoutingModule\n  ],\n  declarations: [DeletedvendorPage]\n})\nexport class DeletedvendorPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiService } from 'src/app/service/api.service';\nimport { FirestoreService } from 'src/app/service/firestore.service';\nimport * as moment from 'moment';\nimport { InituserService } from 'src/app/service/inituser.service';\nimport { async } from '@firebase/util';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { UtilService } from 'src/app/service/util.service';\n\n@Component({\n  selector: 'app-deletedvendor',\n  templateUrl: './deletedvendor.page.html',\n  styleUrls: ['./deletedvendor.page.scss'],\n})\nexport class DeletedvendorPage implements OnInit {\n\n  TodayDate:string;alertc:any;\n  loggedInAdmin:any;\n  public company={\n    companyname:'',\n    companyEmail:'',\n    requestEmail:'',\n  }\n  constructor(private api: ApiService,\n              private firestore: FirestoreService,\n              private initUser:InituserService,\n              private alert: AlertController,\n              private loadCnt : LoadingController,\n              private util: UtilService,\n              private router: Router) { \n                const currentDate = new Date();\n                this.TodayDate = moment(currentDate).format('YYYY-MM-DD')\n                this.loggedInAdmin = this.initUser.getUserData();\n                console.log(this.TodayDate)\n    console.log(this.api.tempVendor)\n    console.log(this.api.tempVendor.id)\n    console.log(this.api.vendorInvite)\n  }\n\n  ngOnInit() {\n  }\n\n async deleteVendors(){\n\n    this.alertc = await this.util.createAlert(\n      '',\n      false,\n      `Do you want to delete?`,\n      {\n        text: 'No',\n        role: 'cancel',\n        cssClass: 'secondary',\n        handler: async () => {\n            await this.alert.dismiss();\n        }\n      },\n      {\n         text: 'Yes',\n         handler: async () => {\n           await this.alert.dismiss();\n           this.firestore.createWithvendor('deleteVendor', this.api.tempVendor.id,this.api.tempVendor).then(ress=>{\n            console.log(ress)\n           const dele:any ={\n            delete_date : this.TodayDate,\n            delete_name : this.loggedInAdmin.name,\n           }\n              this.firestore.update('deleteVendor',this.api.tempVendor.id, dele).then(use =>{\n                console.log(use)\n              })\n      \n            this.firestore.delete('vendorAdd', this.api.tempVendor.id).then(async use =>{\n              console.log(use)\n              this.loading()\n              this.router.navigate(['admin/invitedvendors'])\n              this.api.vendorInvite.filter((vend,index) =>{\n                 if(vend.id === this.api.tempVendor.id){\n                  this.api.vendorInvite.splice(index, 1)\n                 }\n              })\n              // const toast =await this.api.createToasts('successfully deleted',false,'middle')\n              // await toast.present()\n            })\n          })\n\n\n         }\n      }\n    ); \n    await this.alertc.present(); \n  }\n\n async loading(){\n   const load =await this.loadCnt.create({\n    message: 'Deleting...',\n    duration: 3000,\n    spinner: 'circles',\n   })\n   load.present()\n  }\n  back(){\n    this.router.navigate(['admin/invitedvendors'])\n  }\n  moveToHome(){\n    this.router.navigate(['admin/home'])\n  }\n\n\n  moveToAd(){\n    this.router.navigate(['/admin/administrator-accounts']);\n  }\n  //  moveToPurchase(){\n  // this.router.navigate(['admin/purchase-order']);\n  // }\n  // moveToTopLevel(){\n  //   this.router.navigate(['admin/top-level'])\n  // }\n  // moveToVendorInfo(){\n  //   this.router.navigate(['admin/vendor-info'])\n  // }\n\n  inviteNav(data){\n    if('home' === data){\n    this.router.navigate(['admin/home'])\n    }\n    if('toplevel' === data){\n      this.router.navigate(['admin/top-level'])\n    }\n    if('purchase' === data){\n      this.router.navigate(['admin/purchase-order'])\n    }\n    if('vendorinform' === data){\n      this.router.navigate(['admin/vendor-info'])\n    }\n    if('invitedvendors' === data){\n      this.router.navigate(['admin/invitedvendors'])\n    }\n    if('invited' === data){\n      this.router.navigate(['admin/administrator-accounts'])\n    }\n  }\n\n\n}\n"],"names":["Component","Router","ApiService","FirestoreService","moment","InituserService","AlertController","LoadingController","UtilService","DeletedvendorPage","constructor","api","firestore","initUser","alert","loadCnt","util","router","companyname","companyEmail","requestEmail","currentDate","Date","TodayDate","format","loggedInAdmin","getUserData","console","log","tempVendor","id","vendorInvite","ngOnInit","deleteVendors","alertc","createAlert","text","role","cssClass","handler","dismiss","createWithvendor","then","ress","dele","delete_date","delete_name","name","update","use","delete","loading","navigate","filter","vend","index","splice","present","load","create","message","duration","spinner","back","moveToHome","moveToAd","inviteNav","data","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}